<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ionic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon" sizes="16x16">

    <link ios-href="build/css/app.ios.css" rel="stylesheet">
    <link md-href="build/css/app.md.css" rel="stylesheet">
    <link wp-href="build/css/app.wp.css" rel="stylesheet">
</head>
<body>

    <!-- this Ionic's root component and where the app will load -->
    <ion-app></ion-app>

    <!-- cordova.js required for cordova apps -->
    <script src="cordova.js"></script>
    <!-- Polyfill needed for platforms without Promise and Collection support -->
    <script src="build/js/es6-shim.min.js"></script>
    <!-- Zone.js and Reflect-metadata  -->
    <script src="build/js/Reflect.js"></script>
    <script src="build/js/zone.js"></script>

    <!-- the bundle which is built from the app's source code -->
    <script src="build/js/app.bundle.js"></script>

    <!-- Stripe -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script type="text/javascript" src="https://js.stripe.com/v2/"></script>
    <script src="https://checkout.stripe.com/checkout.js"></script>

    <script>
  var handler = StripeCheckout.configure({
      key: 'pk_test_SSTmhE8aocfnGsmEZrN9SEAM',
      image: 'img/logo-blue.png',
      locale: 'auto',
      token: function(token) {
            // You can access the token ID with `token.id`.
            // Get the token ID to your server-side code for use.
          }
    });


$(document).on("click", "#checkout", function(e) {
    console.log("clicked");
      // Open Checkout with further options:
      handler.open({
            name: 'Tote Store',
            description: 'Thank you',
            zipCode: true,
            amount: 2000,
            shippingAddress: true,
            locale: 'auto'
          });
      e.preventDefault();
});

  // Close Checkout on page navigation:
  $(window).on('popstate', function() {
      handler.close();
    });
    </script>
</body>
</html>
